{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/MochaJSDelegate.js","webpack://exports/./src/panel.js"],"names":["MochaJSDelegate","selectorHandlerDict","uniqueClassName","NSUUID","UUID","UUIDString","delegateClassDesc","MOClassDescription","allocateDescriptionForClassWithName_superclass_","NSObject","registerClass","handlers","setHandlerForSelector","selectorString","func","handlerHasBeenSet","selector","NSSelectorFromString","dynamicHandler","functionToCall","apply","arguments","args","regex","match","exec","push","length","dynamicFunction","eval","join","addInstanceMethodWithSelector_function_","removeHandlerForSelector","getHandlerForSelector","getAllHandlers","getClass","NSClassFromString","getClassInstance","new","context","panelWidth","panelHeight","panel","NSPanel","alloc","init","setFrame_display","NSMakeRect","setStyleMask","NSTexturedBackgroundWindowMask","NSTitledWindowMask","NSClosableWindowMask","NSFullSizeContentViewWindowMask","setBackgroundColor","NSColor","whiteColor","title","titlebarAppearsTransparent","center","makeKeyAndOrderFront","setLevel","NSFloatingWindowLevel","COScript","currentCOScript","setShouldKeepAround_","standardWindowButton","NSWindowMiniaturizeButton","setHidden","NSWindowZoomButton","vibrancy","NSVisualEffectView","initWithFrame","setAppearance","NSAppearance","appearanceNamed","NSAppearanceNameVibrantLight","setBlendingMode","NSVisualEffectBlendingModeBehindWindow","webView","WebView","request","NSURLRequest","requestWithURL","plugin","urlForResourceNamed","mainFrame","loadRequest","setDrawsBackground","windowObject","windowScriptObject","delegate","webFrame","selection","evaluateWebScript","CSSAttributes","hash","data","JSON","parse","utils","doc","command","scriptPath","pluginURLString","stringByDeletingLastPathComponent","ctx","fullContext","fullContextFromContext_url_","scriptURL","pluginUrl","NSURL","fileURLWithPath","log","NSApp","runPluginCommandWithIdentifier_fromBundleAtURL_context","action","mainWindow","setFrameLoadDelegate_","contentView","addSubview","threadDictionary","NSThread","mainThread","identifier","closeButton","NSWindowCloseButton","setCOSJSTargetFunction","sender","close","removeObjectForKey"],"mappings":"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","file":"panel.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/panel.js\");\n","//\n//  MochaJSDelegate.js\n//  MochaJSDelegate\n//\n//  Created by Matt Curtis\n//  Copyright (c) 2015. All rights reserved.\n//\n\nexport var MochaJSDelegate = function(selectorHandlerDict){\n\tvar uniqueClassName = \"MochaJSDelegate_DynamicClass_\" + NSUUID.UUID().UUIDString();\n\n\tvar delegateClassDesc = MOClassDescription.allocateDescriptionForClassWithName_superclass_(uniqueClassName, NSObject);\n\t\n\tdelegateClassDesc.registerClass();\n\n\t//\tHandler storage\n\n\tvar handlers = {};\n\n\t//\tDefine interface\n\n\tthis.setHandlerForSelector = function(selectorString, func){\n\t\tvar handlerHasBeenSet = (selectorString in handlers);\n\t\tvar selector = NSSelectorFromString(selectorString);\n\n\t\thandlers[selectorString] = func;\n\n\t\tif(!handlerHasBeenSet){\n\t\t\t/*\n\t\t\t\tFor some reason, Mocha acts weird about arguments:\n\t\t\t\thttps://github.com/logancollins/Mocha/issues/28\n\n\t\t\t\tWe have to basically create a dynamic handler with a likewise dynamic number of predefined arguments.\n\t\t\t*/\n\n\t\t\tvar dynamicHandler = function(){\n\t\t\t\tvar functionToCall = handlers[selectorString];\n\n\t\t\t\tif(!functionToCall) return;\n\n\t\t\t\treturn functionToCall.apply(delegateClassDesc, arguments);\n\t\t\t};\n\n\t\t\tvar args = [], regex = /:/g;\n\t\t\tvar match;\n\t\t\twhile(match = regex.exec(selectorString)) args.push(\"arg\"+args.length);\n\t\t\t\n\t\t\tdynamicFunction = eval(\"(function(\"+args.join(\",\")+\"){ return dynamicHandler.apply(this, arguments); })\");\n\n\t\t\tdelegateClassDesc.addInstanceMethodWithSelector_function_(selector, dynamicFunction);\n\t\t}\n\t};\n\n\tthis.removeHandlerForSelector = function(selectorString){\n\t\tdelete handlers[selectorString];\n\t};\n\n\tthis.getHandlerForSelector = function(selectorString){\n\t\treturn handlers[selectorString];\n\t};\n\n\tthis.getAllHandlers = function(){\n\t\treturn handlers;\n\t};\n\n\tthis.getClass = function(){\n\t\treturn NSClassFromString(uniqueClassName);\n\t};\n\n\tthis.getClassInstance = function(){\n\t\treturn NSClassFromString(uniqueClassName).new();\n\t};\n\n\t//\tConveience\n\n\tif(typeof selectorHandlerDict == \"object\"){\n\t\tfor(var selectorString in selectorHandlerDict){\n\t\t\tthis.setHandlerForSelector(selectorString, selectorHandlerDict[selectorString]);\n\t\t}\n\t}\n};\n","import {MochaJSDelegate} from \"./MochaJSDelegate\";\n\nexport default function (context) {\n\n\t// Panel\n\tconst panelWidth = 80;\n\tconst panelHeight = 268;\n\n\t// Create the panel and set its appearance\n\tconst panel = NSPanel.alloc().init();\n\tpanel.setFrame_display(NSMakeRect(0, 0, panelWidth, panelHeight), true);\n\tpanel.setStyleMask(NSTexturedBackgroundWindowMask | NSTitledWindowMask | NSClosableWindowMask | NSFullSizeContentViewWindowMask);\n\tpanel.setBackgroundColor(NSColor.whiteColor());\n\n\t// Set the panel's title and title bar appearance\n\tpanel.title = \"\";\n\tpanel.titlebarAppearsTransparent = true;\n\n\t// Center and focus the panel\n\tpanel.center();\n\tpanel.makeKeyAndOrderFront(null);\n\tpanel.setLevel(NSFloatingWindowLevel);\n\n\t// Make the plugin's code stick around (since it's a floating panel)\n\tCOScript.currentCOScript().setShouldKeepAround_(true);\n\n\t// Hide the Minimize and Zoom button\n\tpanel.standardWindowButton(NSWindowMiniaturizeButton).setHidden(true);\n\tpanel.standardWindowButton(NSWindowZoomButton).setHidden(true);\n\n\t// Create the blurred background\n\tconst vibrancy = NSVisualEffectView.alloc().initWithFrame(NSMakeRect(0, 0, panelWidth, panelHeight));\n\tvibrancy.setAppearance(NSAppearance.appearanceNamed(NSAppearanceNameVibrantLight));\n\tvibrancy.setBlendingMode(NSVisualEffectBlendingModeBehindWindow);\n\n\t// Create the WebView with a request to a Web page in Contents/Resources/\n\tconst webView = WebView.alloc().initWithFrame(NSMakeRect(0, 0, panelWidth, panelHeight - 44));\n\tconst request = NSURLRequest.requestWithURL(context.plugin.urlForResourceNamed(\"webView.html\"));\n\twebView.mainFrame().loadRequest(request);\n\twebView.setDrawsBackground(false);\n\n\t// Access the Web page's JavaScript environment\n\t  var windowObject = webView.windowScriptObject();\n\n\t  // Create the delegate\n\t  var delegate = new MochaJSDelegate({\n\n\t    // Listen to the page loading state\n\t    \"webView:didFinishLoadForFrame:\": (function(webView, webFrame) {\n\n\t      // Get the current selection\n\t      var selection = context.selection;\n\n\t      if (selection.length == 1) {\n\n\t        // Send the CSS attributes as a string to the Web page\n\t        windowObject.evaluateWebScript(\"updatePreview('\" + selection[0].CSSAttributes().join(\" \") + \"')\");\n\t      } else {\n\n\t        // Or send an empty string to the Web page\n\t        windowObject.evaluateWebScript(\"updatePreview(' ')\");\n\t      }\n\t    }),\n\n\t    // Listen to URL changes\n\t    \"webView:didChangeLocationWithinPageForFrame:\": (function(webView, webFrame) {\n\n\t      // Extract the URL hash (without #) by executing JavaScript in the Web page\n\t      var hash = windowObject.evaluateWebScript(\"window.location.hash.substring(1)\");\n\n\t      // Parse the hash's JSON content\n\t      var data = JSON.parse(hash);\n\n\t      // Launch a Sketch action and focus the main window\n\t      var utils = context;\n\t\t  var doc = utils.doc;\n\t\t  var command = utils.command;\n\t\t  var scriptPath = utils.scriptPath;\n\t\t  var pluginURLString = scriptPath.stringByDeletingLastPathComponent().stringByDeletingLastPathComponent().stringByDeletingLastPathComponent();\n\n\t\t// Making new context\n\t\t  var ctx = utils;\n\t\t  var fullContext = command.fullContextFromContext_url_(ctx, utils.scriptURL);\n\t\t  var pluginUrl = NSURL.fileURLWithPath(pluginURLString);\n\n\t\tlog('Before Run Plugin Command');\n\t\t  NSApp.delegate().runPluginCommandWithIdentifier_fromBundleAtURL_context(data.action, pluginUrl, fullContext);\n\t\t  log('After Run Plugin Command');\n\t      NSApp.mainWindow().makeKeyAndOrderFront(null);\n\t    })\n\t  })\n\n\t  // Set the delegate on the WebView\n\t  webView.setFrameLoadDelegate_(delegate.getClassInstance());\n\n\t// Add the content views to the panel\n\tpanel.contentView().addSubview(vibrancy);\n\tpanel.contentView().addSubview(webView);\n\n\t// Create an NSThread dictionary with a specific identifier\n\tconst threadDictionary = NSThread.mainThread().threadDictionary();\n\tlet identifier = \"co.awkward.floatingexample\";\n\n\t// If there's already a panel, prevent the plugin from running\n\tif (threadDictionary[identifier]) return;\n\n\t// After creating the panel, store a reference to it\n\tthreadDictionary[identifier] = panel;\n\n\tconst closeButton = panel.standardWindowButton(NSWindowCloseButton);\n\n\t// Assign a function to the Close button\n\tcloseButton.setCOSJSTargetFunction(function(sender) {\n\t  panel.close();\n\n\t  // Remove the reference to the panel\n\t  threadDictionary.removeObjectForKey(identifier);\n\n\t  // Stop the plugin\n\t  COScript.currentCOScript().setShouldKeepAround_(false);\n\t});\t\t\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}